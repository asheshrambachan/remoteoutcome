% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/data_constructors.R
\name{create_data_real}
\alias{create_data_real}
\title{Create Real Experimental/Observational Split Dataset}
\usage{
create_data_real(data)
}
\arguments{
\item{data}{\code{smartcard_data} data frame included in the package.}
}
\value{
A data frame similar to \code{smartcard_data}, containing:
\describe{
  \item{shrid2}{SHRUG village identifier}
  \item{spillover_20km}{Spillover indicator}
  \item{S}{Sample indicator: "e" = experimental only, "o" = observational only,
    "both" = experimental and observational samples}
  \item{D}{Treatment indicator, \code{NA} when not observed (only observed 
    when S = "e" or "both")}
  \item{Ycons, Ylowinc, Ymidinc}{Outcome variables, \code{NA} when not 
    observed (only observed when S = "o" or "both")}
  \item{clusters}{Cluster identifier (Subdistrict (mandal) name + District name in Andhra Pradesh)}
  \item{luminosity_*}{VIIRS nighttime lights features}
  \item{satellite_*}{MOSAIKS satellite feature}
}
}
\description{
Transforms \code{smartcard_data} into the real experimental/observational split 
where treatment is observed in "Experimental: Treated (2010)", "Experimental: 
Untreated (2011)", and "Experimental: Untreated (2012)" waves and outcomes are 
observed in the "Experimental: Untreated (2011)" and "Observational (N/A)" waves.
}
\details{
The function implements the real experimental design through the following steps:
\enumerate{
  \item Villages from "Experimental: Treated (2010)", "Experimental: Untreated (2011)", 
    "Experimental: Untreated (2012)" waves are marked as S_e = TRUE
  \item Villages from "Experimental: Untreated (2011)" and "Observational (N/A)" 
    waves are marked as S_o = TRUE
  \item Final sample indicator is created:
    \itemize{
      \item S = "both" if S_e = TRUE and S_o = TRUE (experimental and observational villages)
      \item S = "e" if S_e = TRUE and S_o = FALSE (experimental only)
      \item S = "o" if S_e = FALSE and S_o = TRUE (observational only)
    }
  \item Treatment visible only when S = "e" or "both"; 
    outcomes visible only when S = "o" or "both"
}
}
\examples{
\dontrun{
# Load the data
data("smartcard_data_p1", package="remoteoutcome")
data("smartcard_data_p2", package="remoteoutcome")

# Merge to create complete dataset
smartcard_data <- inner_join(smartcard_data_p1, smartcard_data_p2, by="shrid2")
rm(smartcard_data_p1, smartcard_data_p2)

# Create real experimental/observational split
data_real <- create_data_real(smartcard_data)

# Sample membership distribution
table(data_real$S)

# Treatment and outcome overlap
with(data_real, table(observe_D = !is.na(D), observe_Y = !is.na(Ycons)))
}

}
\seealso{
\code{\link{smartcard_data_p1}} and \code{\link{smartcard_data_p2}} for the input dataset structure,
  \code{\link{create_data_synth}} for creating synthetic sample splits
}
