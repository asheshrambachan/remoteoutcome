% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/data_constructors.R
\name{create_data_synth}
\alias{create_data_synth}
\title{Create Synthetic Experimental/Observational Split Dataset}
\usage{
create_data_synth(data)
}
\arguments{
\item{data}{\code{smartcard_data} data frame included in the package.}
}
\value{
A data frame similar to \code{smartcard_data}, containing:
\describe{
  \item{shrid2}{SHRUG village identifier}
  \item{spillover_20km}{Spillover indicator}
  \item{S}{Sample indicator: "e" = experimental only, "o" = observational only,
    "both" = experimental and observational samples}
  \item{D}{Treatment indicator, \code{NA} when not observed (only observed 
    when S = "e" or "both")}
  \item{Ycons, Ylowinc, Ymidinc}{Outcome variables, \code{NA} when not 
    observed (only observed when S = "o" or "both")}
  \item{clusters}{Cluster identifier (Subdistrict (mandal) name + District name in Andhra Pradesh)}
  \item{luminosity_*}{VIIRS nighttime lights features}
  \item{satellite_*}{MOSAIKS satellite features}
}
}
\description{
Transforms the complete dataset (\code{smartcard_data}) into a synthetic 
experimental/observational split where top 50% of the clusters are assigned to 
observational sample. This creates an artificial separation for testing 
RSV methods.
}
\details{
The function creates a synthetic experimental/observational split through 
the following steps:
\enumerate{
  \item Original experimental villages are marked as S_e = TRUE
  \item Top 50% of clusters are marked as S_o = TRUE
  \item Final sample indicator is created:
    \itemize{
      \item S = "both" if S_e = TRUE and S_o = TRUE (experimental and observational villages)
      \item S = "e" if S_e = TRUE and S_o = FALSE (experimental only)
      \item S = "o" if S_e = FALSE and S_o = TRUE (observational only)
    }
  \item Treatment visible only when S = "e" or "both"; 
    outcomes visible only when S = "o" or "both"
}
}
\examples{
\dontrun{
# Load the data
data("smartcard_data_p1", package="remoteoutcome")
data("smartcard_data_p2", package="remoteoutcome")

# Merge to create complete dataset
smartcard_data <- inner_join(smartcard_data_p1, smartcard_data_p2, by="shrid2")
rm(smartcard_data_p1, smartcard_data_p2)

data_synth <- create_data_synth(smartcard_data)

# Sample distribution
table(data_synth$S)

# Treatment and outcome overlap
with(data_synth, table(observe_D = !is.na(D), observe_Y = !is.na(Ycons)))
}

}
\seealso{
\code{\link{smartcard_data_p1}} and \code{\link{smartcard_data_p2}} for the input dataset structure,
  \code{\link{create_data_real}} for creating real experimental splits
}
